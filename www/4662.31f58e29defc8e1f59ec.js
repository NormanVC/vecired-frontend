(self.webpackChunkveciRed=self.webpackChunkveciRed||[]).push([[4662],{5369:(i,e,t)=>{"use strict";t.d(e,{r:()=>s});var o=t(8583),r=t(7823),n=t(5503),c=t(665),a=t(639);let s=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[o.ez,r.Pc,n.D,c.u5]]}),i})()},4662:(i,e,t)=>{"use strict";t.r(e),t.d(e,{MisCertificadosPageModule:()=>v});var o=t(8583),r=t(665),n=t(7823),c=t(7860),a=t(4762),s=t(639),d=t(9894),l=t(4975),u=t(2977),f=t(4212),g=t(2478);function m(i,e){1&i&&(s.TgZ(0,"ion-card",12),s.TgZ(1,"h3",13),s.TgZ(2,"b"),s._uU(3,"\xa1 Esta comunidad no tiene certificados !"),s.qZA(),s.qZA(),s._UZ(4,"img",14),s.TgZ(5,"ion-card-content"),s._uU(6," Si deseas que tu comunidad pueda emitir certificados, envia un correo a "),s.TgZ(7,"b"),s._uU(8,"vecired@contacto.cl"),s.qZA(),s._uU(9," con el nombre de tu comunidad, miembros y documentaci\xf3n que acredite la direcci\xf3n comunidad. "),s.qZA(),s.qZA())}function Z(i,e){if(1&i){const i=s.EpF();s.TgZ(0,"ion-col",15),s.TgZ(1,"ion-card",16),s.TgZ(2,"ion-card-header"),s.TgZ(3,"ion-card-subtitle",17),s._UZ(4,"ion-icon",18),s._uU(5),s.qZA(),s.TgZ(6,"ion-card-title",19),s.TgZ(7,"b"),s._uU(8),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"ion-card-content",17),s._UZ(10,"ion-icon",20),s._uU(11),s.TgZ(12,"ion-row",19),s.TgZ(13,"ion-col",21),s._UZ(14,"ion-icon",22),s._uU(15),s.qZA(),s.TgZ(16,"ion-col",23),s._uU(17),s._UZ(18,"ion-icon",24),s.qZA(),s.qZA(),s.TgZ(19,"ion-row"),s.TgZ(20,"ion-col",25),s.TgZ(21,"ion-buttons"),s.TgZ(22,"ion-button",26),s.NdJ("click",function(){const e=s.CHM(i).$implicit;return s.oxw().editarCerticado(e)}),s._UZ(23,"ion-icon",27),s.qZA(),s.qZA(),s.qZA(),s.TgZ(24,"ion-col"),s.TgZ(25,"ion-buttons"),s.TgZ(26,"ion-button",26),s.NdJ("click",function(){const e=s.CHM(i).$implicit;return s.oxw().emitirCertificado(e._id)}),s._UZ(27,"ion-icon",28),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&i){const i=e.$implicit;s.xp6(5),s.hij(" ",i.comunidad.nombreComunidad,""),s.xp6(3),s.Oqu(i.titulo),s.xp6(3),s.hij(" ",i.descripcion," "),s.xp6(4),s.hij(" ",i.contacto," "),s.xp6(2),s.hij(" ",i.replegal," ")}}const h=[{path:"",component:(()=>{class i{constructor(i,e,t,o,r,n,c){this.certificadoService=i,this.ruta=e,this.usuarioService=t,this.alertController=o,this.emisorService=r,this.comunidadService=n,this.alertaService=c,this.certificados=[],this.emptyCertificados=!1,this.emisor={rut:"",motivo:"",certificado:""},this.Roltype=[],this.usuario={},this.mostrarInputMensaje=!1,this.noVerificado=!1}ngOnInit(){this.loadCertificados()}ionViewDidEnter(){this.loadCertificados(),this.obtenerRolUsuario(),this.puedeEmitir()}obtenerRolUsuario(){this.usuario=this.usuarioService.obtenerRolUsuario(),this.Roltype[0]=this.usuario.rol}puedeEmitir(){this.comunidadService.obtenerComunidad().subscribe(i=>{this.aux=i.puedeEmitir},i=>{console.error("Este es el error: ",i)})}loadCertificados(){this.certificadoService.getCertificados().subscribe(i=>{this.certificados=i.certificados||[],this.emptyCertificados=0===this.certificados.length,this.emisor={rut:"",motivo:"\xa1Hola!, me gustaria unirme a tu comunidad",certificado:""},this.mostrarInputMensaje=!1})}NavegarCrearCertificado(){return(0,a.mG)(this,void 0,void 0,function*(){2===this.Roltype[0]&&1===this.aux&&this.alertaService.alerta("Solo personas de la directiva pueden crear certificados."),1===this.Roltype[0]&&0===this.aux&&this.alertaService.alerta("Su comunidad no esta verificada para emitir certificados."),2===this.Roltype[0]&&0===this.aux&&this.alertaService.alerta("Esta comunidad no se encuentra verificada."),1===this.Roltype[0]&&1===this.aux&&this.ruta.navigateByUrl("main/tabs/crear-cert")})}editarCerticado(i){return(0,a.mG)(this,void 0,void 0,function*(){if(2===this.Roltype[0]){const i=yield this.alertController.create({message:"Solo personas de la directiva tienen permiso para editar el certificado.",buttons:["OK"]});yield i.present()}else this.certificadoService.enviarDatos(i),this.ruta.navigateByUrl("main/tabs/editar-certificado")})}emitirCertificado(i){return(0,a.mG)(this,void 0,void 0,function*(){this.emisorService.enviarDatos(i),this.ruta.navigateByUrl("main/tabs/solicitar-cert")})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(d.y),s.Y36(c.F0),s.Y36(l.i),s.Y36(n.Br),s.Y36(u.i),s.Y36(f.P),s.Y36(g.e))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-mis-certificados"]],decls:19,vars:3,consts:[[3,"translucent"],[1,"cabecera"],["slot","start"],["menu","first","color","light"],["color","light",1,"vecired"],["size","large","fill","clear","slot","end"],["color","light",3,"click"],["slot","icon-only","name","add-outline"],[1,"ripple-parent"],[1,"certificadosTitle","ion-text-center"],["class","noCertificados",4,"ngIf"],["size","12","size-lg","3","size-md","4","size-sm","6","size-xs","12",4,"ngFor","ngForOf"],[1,"noCertificados"],[1,"noCertificadosTitle"],["src","/../../assets/sadHouse.png",1,"noCertificadosImage"],["size","12","size-lg","3","size-md","4","size-sm","6","size-xs","12"],[1,"certificadoUnitario"],[1,"fontColor","ion-text-center"],["name","ribbon"],[1,"ion-text-center"],["name","document-text-outline"],[2,"margin-top","-0.5%"],["name","call"],[2,"margin-top","-1%"],["name","person"],[2,"margin-left","20%"],[3,"click"],["slot","icon-only","name","create-outline",2,"color","black"],["slot","icon-only","name","duplicate-outline",2,"color","black"]],template:function(i,e){1&i&&(s.TgZ(0,"ion-header",0),s.TgZ(1,"ion-toolbar",1),s.TgZ(2,"ion-buttons",2),s._UZ(3,"ion-menu-button",3),s.qZA(),s.TgZ(4,"ion-title",4),s._uU(5," VeciRed "),s.qZA(),s.TgZ(6,"ion-buttons",5),s.TgZ(7,"ion-button",6),s.NdJ("click",function(){return e.NavegarCrearCertificado()}),s._UZ(8,"ion-icon",7),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"ion-content"),s.TgZ(10,"ion-grid"),s.TgZ(11,"div",8),s.TgZ(12,"ion-row"),s.TgZ(13,"ion-col",9),s.TgZ(14,"b"),s._uU(15,"MIS CERTIFICADOS"),s.qZA(),s.qZA(),s.qZA(),s._UZ(16,"ion-ripple-effect"),s.qZA(),s.qZA(),s.YNc(17,m,10,0,"ion-card",10),s.YNc(18,Z,28,5,"ion-col",11),s.qZA()),2&i&&(s.Q6J("translucent",!0),s.xp6(17),s.Q6J("ngIf",e.emptyCertificados),s.xp6(1),s.Q6J("ngForOf",e.certificados))},directives:[n.Gu,n.sr,n.Sm,n.fG,n.wd,n.YG,n.gu,n.W2,n.jY,n.Nd,n.wI,n.H$,o.O5,o.sg,n.PM,n.FN,n.Zi,n.tO,n.gZ],styles:[".cabecera[_ngcontent-%COMP%]{--background:linear-gradient(135deg,#110a3b,#2f32a0);color:light}.certificadosTitle[_ngcontent-%COMP%]{margin-top:-1vw;font-family:monospace;font-size:x-large}.noCertificados[_ngcontent-%COMP%]{border:2px solid #241816;border-bottom-left-radius:9%;border-bottom-right-radius:9%;border-top-left-radius:9%;border-top-right-radius:9%;box-shadow:0 0 2em rgba(30,30,31,.932);background-color:#afeeee}.noCertificadosTitle[_ngcontent-%COMP%]{color:#000;font-family:Perpetua;text-align:center;font-family:monospace}.noCertificadosImage[_ngcontent-%COMP%]{margin-left:30%;width:40%;height:50%;max-height:70%}.certificadoUnitario[_ngcontent-%COMP%]{box-shadow:0 0 2em rgba(30,30,31,.932);background-color:#afeeee}.vecired[_ngcontent-%COMP%]{color:#f0f8ff;font-weight:bolder;font-size:x-large;text-align:center}"]}),i})()}];let p=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[c.Bz.forChild(h)],c.Bz]}),i})();var b=t(5369);let v=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[o.ez,r.u5,n.Pc,p,b.r]]}),i})()},5503:(i,e,t)=>{"use strict";t.d(e,{D:()=>r});var o=t(639);let r=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({}),i})()}}]);