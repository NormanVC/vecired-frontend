(self.webpackChunkveciRed=self.webpackChunkveciRed||[]).push([[7426],{7426:(e,i,t)=>{"use strict";t.r(i),t.d(i,{SolicitudPageModule:()=>p});var o=t(8583),n=t(665),s=t(7823),r=t(7860),c=t(4762),a=t(639),l=t(796),d=t(2478);function u(e,i){1&e&&(a.TgZ(0,"ion-grid"),a.TgZ(1,"ion-card",11),a._UZ(2,"img",12),a.TgZ(3,"h3",13),a.TgZ(4,"b"),a._uU(5,"No existen solicitudes en tu comunidad"),a.qZA(),a.qZA(),a.qZA(),a.qZA())}function g(e,i){if(1&e){const e=a.EpF();a.TgZ(0,"ion-col",14),a.TgZ(1,"ion-card",15),a.TgZ(2,"ion-card-header"),a.TgZ(3,"ion-card-subtitle",16),a._UZ(4,"ion-icon",17),a._uU(5),a.qZA(),a.TgZ(6,"ion-card-title",18),a.TgZ(7,"b"),a._uU(8),a.qZA(),a.qZA(),a.TgZ(9,"ion-card-content",16),a._UZ(10,"ion-icon",19),a._uU(11),a.TgZ(12,"ion-row"),a.TgZ(13,"ion-col"),a.TgZ(14,"ion-button",20),a.NdJ("click",function(){const i=a.CHM(e).$implicit;return a.oxw().aceptarVecino(i.comunidad._id,i.usuario._id,i._id)}),a._uU(15," aceptar "),a.qZA(),a.qZA(),a.TgZ(16,"ion-col"),a.TgZ(17,"ion-button",21),a.NdJ("click",function(){const i=a.CHM(e).$implicit;return a.oxw().rechazoVecino(i._id)}),a._uU(18," rechazar "),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=i.$implicit;a.xp6(5),a.hij(" ",e.comunidad.nombreComunidad," "),a.xp6(3),a.Oqu(e.usuario.nombre),a.xp6(3),a.hij(" ",e.mensaje," ")}}const h=[{path:"",component:(()=>{class e{constructor(e,i){this.solicitudService=e,this.alertasService=i,this.solicitudes=[],this.emptySolicitud=!1}ngOnInit(){this.solicitudService.deletedSolicitud.subscribe(e=>{this.solicitudes=[],this.obtenerSolicitudes()})}obtenerSolicitudes(e){this.solicitudService.obtenerSolicitudes().subscribe(e=>{this.solicitudes=e.solicitudes,this.emptySolicitud=0==this.solicitudes.length}),e&&e.target.complete()}aceptarVecino(e,i,t){var o={idComunidad:e,idUsuario:i,idSolicitud:t};this.alertasService.alertaDecision("\xbfDesea aceptar a este usuario?").then(e=>{if(this.aceptar=e.data,!0!==this.aceptar)return this.alertasService.presentToast("Operaci\xf3n cancelada");this.solicitudService.aceptarSolicitud(o),this.alertasService.presentToast("Vecino aceptado exitosamente")})}rechazoVecino(e){return(0,c.mG)(this,void 0,void 0,function*(){var i={idSolicitud:e};yield this.alertasService.alertaDecision("\xbfDesea rechazar a este usuario?").then(e=>{this.rechazar=e.data,!0===this.rechazar?(this.solicitudService.eliminarSolicitudes(i),this.alertasService.presentToast("Vecino rechazado exitosamente")):this.alertasService.presentToast("Operaci\xf3n cancelada")})})}ionViewWillEnter(){this.solicitudes=[],this.obtenerSolicitudes()}refresher(e){this.obtenerSolicitudes(e)}}return e.\u0275fac=function(i){return new(i||e)(a.Y36(l.o),a.Y36(d.e))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-solicitud"]],decls:22,vars:2,consts:[[1,"cabecera"],["slot","start"],["defaultHref","/main/tabs/tab1","color","light"],["color","light",1,"vecired"],["slot","end"],["disabled",""],[1,"ripple-parent"],[1,"avisosTitlte","ion-text-center"],["slot","fixed",3,"ionRefresh"],[4,"ngIf"],["size","12","size-lg","3","size-md","4","size-sm","6","size-xs","12",4,"ngFor","ngForOf"],[1,"ion-text-center","noAvisos"],["src","/../../assets/noComunity.png",1,"noAvisosImage"],[1,"noAvisosTitle"],["size","12","size-lg","3","size-md","4","size-sm","6","size-xs","12"],[1,"avisoUnitario"],[1,"fontColor","ion-text-center"],["name","body"],[1,"ion-text-center"],["name","chatbubble-ellipses-outline"],["id","aceptarVe","color","success","size","small",1,"aceptarVecino",2,"width","84%",3,"click"],["color","danger","size","small",1,"rechazarVecino",3,"click"]],template:function(e,i){1&e&&(a.TgZ(0,"ion-header"),a.TgZ(1,"ion-toolbar",0),a.TgZ(2,"ion-buttons",1),a._UZ(3,"ion-back-button",2),a.qZA(),a.TgZ(4,"ion-title",3),a._uU(5,"VeciRed"),a.qZA(),a.TgZ(6,"ion-buttons",4),a.TgZ(7,"ion-button",5),a._UZ(8,"ion-icon"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(9,"ion-content"),a.TgZ(10,"ion-grid"),a.TgZ(11,"div",6),a.TgZ(12,"ion-row"),a.TgZ(13,"ion-col",7),a.TgZ(14,"b"),a._uU(15,"MIS SOLICITUDES"),a.qZA(),a.qZA(),a.qZA(),a._UZ(16,"ion-ripple-effect"),a.qZA(),a.qZA(),a.TgZ(17,"ion-refresher",8),a.NdJ("ionRefresh",function(e){return i.refresher(e)}),a._UZ(18,"ion-refresher-content"),a.qZA(),a.YNc(19,u,6,0,"ion-grid",9),a.TgZ(20,"ion-row"),a.YNc(21,g,19,3,"ion-col",10),a.qZA(),a.qZA()),2&e&&(a.xp6(19),a.Q6J("ngIf",i.emptySolicitud),a.xp6(2),a.Q6J("ngForOf",i.solicitudes))},directives:[s.Gu,s.sr,s.Sm,s.oU,s.cs,s.wd,s.YG,s.gu,s.W2,s.jY,s.Nd,s.wI,s.H$,s.nJ,s.Wo,o.O5,o.sg,s.PM,s.Zi,s.tO,s.gZ,s.FN],styles:[".avisosTitlte[_ngcontent-%COMP%]{margin-top:-1vw;font-family:monospace;font-size:x-large}.avisoUnitario[_ngcontent-%COMP%]{box-shadow:0 0 2em rgba(30,30,31,.932);background-color:#afeeee}.fontColor[_ngcontent-%COMP%]{color:#000}.noAvisos[_ngcontent-%COMP%]{background-color:#afeeee;border:2px solid #241816;border-bottom-left-radius:9%;border-bottom-right-radius:9%;border-top-left-radius:9%;border-top-right-radius:9%;box-shadow:0 0 2em rgba(30,30,31,.932)}.noAvisosTitle[_ngcontent-%COMP%]{color:#000;text-align:center;font-family:monospace}.noAvisosImage[_ngcontent-%COMP%]{width:40%;height:50%;max-height:70%}.cabecera[_ngcontent-%COMP%]{--background:linear-gradient(135deg,#110a3b,#2f32a0)}.vecired[_ngcontent-%COMP%]{color:#f0f8ff;font-weight:bolder;font-size:x-large;text-align:center}"]}),e})()}];let Z=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[r.Bz.forChild(h)],r.Bz]}),e})(),p=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[o.ez,n.u5,s.Pc,Z]]}),e})()},2478:(e,i,t)=>{"use strict";t.d(i,{e:()=>r});var o=t(4762),n=t(639),s=t(7823);let r=(()=>{class e{constructor(e,i){this.alertController=e,this.toastController=i}alerta(e){return(0,o.mG)(this,void 0,void 0,function*(){const i=yield this.alertController.create({cssClass:"my-custom-class",message:e,buttons:[{text:"Ok",role:"cancel"}]});yield i.present(),yield i.onDidDismiss()})}alertaDecision(e){return(0,o.mG)(this,void 0,void 0,function*(){let i;const t=yield this.alertController.create({backdropDismiss:!1,message:e,buttons:[{text:"ACEPTAR",handler:()=>(t.dismiss(!0),!1)},{text:"Cancelar"}]});return yield t.present(),yield t.onDidDismiss().then(e=>{i=e}),i})}presentToast(e){return(0,o.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:e,position:"bottom",duration:1800})).present()})}}return e.\u0275fac=function(i){return new(i||e)(n.LFG(s.Br),n.LFG(s.yF))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);