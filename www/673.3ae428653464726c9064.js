(self.webpackChunkveciRed=self.webpackChunkveciRed||[]).push([[673],{673:(e,o,t)=>{"use strict";t.r(o),t.d(o,{InfoPageModule:()=>g});var n=t(8583),i=t(665),r=t(7823),c=t(7860),s=t(639),a=t(6014);function u(e,o){if(1&e&&(s.TgZ(0,"ion-list"),s.TgZ(1,"ion-card",9),s.TgZ(2,"ion-card-content"),s.TgZ(3,"ion-item",10),s.TgZ(4,"ion-text",11),s.TgZ(5,"b"),s._uU(6),s.qZA(),s._uU(7),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){const e=o.$implicit,t=o.index;s.xp6(6),s.AsE("",t+1,".- ",e.value.titulo,":"),s.xp6(1),s.hij(" ",e.value.descripcion,"")}}const d=[{path:"",component:(()=>{class e{constructor(e){this.acuerdosService=e,this.votacion={titulo:"",descripcion:"",fecha:null,hora:null,duracion:0,opciones:{}}}ngOnInit(){this.acuerdosService.Objeto.subscribe(e=>{this.votacion=e})}}return e.\u0275fac=function(o){return new(o||e)(s.Y36(a.U))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-info"]],decls:16,vars:3,consts:[[1,"cabecera"],["slot","start"],["defaultHref","/main/tabs/detalle-votacion","color","light"],["color","light",1,"vecired"],["slot","end"],["disabled",""],[1,"titulo"],[1,"ion-text-center"],[4,"ngFor","ngForOf"],[1,"acuerdo"],[1,"item-background-color"],[1,"ion-text-justify"]],template:function(e,o){1&e&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar",0),s.TgZ(2,"ion-buttons",1),s._UZ(3,"ion-back-button",2),s.qZA(),s.TgZ(4,"ion-title",3),s._uU(5,"VeciRed"),s.qZA(),s.TgZ(6,"ion-buttons",4),s.TgZ(7,"ion-button",5),s._UZ(8,"ion-icon"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"ion-content"),s.TgZ(10,"div",6),s.TgZ(11,"h4",7),s.TgZ(12,"b"),s._uU(13,"INFORMACI\xd3N"),s.qZA(),s.qZA(),s.qZA(),s.YNc(14,u,8,3,"ion-list",8),s.ALo(15,"keyvalue"),s.qZA()),2&e&&(s.xp6(14),s.Q6J("ngForOf",s.lcZ(15,1,o.votacion.opciones)))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.wd,r.YG,r.gu,r.W2,n.sg,r.q_,r.PM,r.FN,r.Ie,r.yW],pipes:[n.Nd],styles:[".titulo[_ngcontent-%COMP%]{margin-top:-3%;font-family:monospace}.acuerdo[_ngcontent-%COMP%]{margin-top:10px;box-shadow:0 .9 2em rgba(30,30,31,.932);background-color:#f4f5f8}.item-background-color[_ngcontent-%COMP%]{--ion-item-background:#0000}.cabecera[_ngcontent-%COMP%]{--background:linear-gradient(135deg,#110a3b,#2f32a0)}.vecired[_ngcontent-%COMP%]{color:#f0f8ff;font-weight:bolder;font-size:x-large;text-align:center}"]}),e})()}];let l=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[c.Bz.forChild(d)],c.Bz]}),e})(),g=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[n.ez,i.u5,r.Pc,l]]}),e})()},6014:(e,o,t)=>{"use strict";t.d(o,{U:()=>d});var n=t(1841),i=t(639),r=t(2340),c=t(1929),s=t(4975),a=t(7905);const u=r.N.url;let d=(()=>{class e{constructor(e,o,t){this.http=e,this.usuarioService=o,this.fileTransfer=t,this.pagiaAcuerdos=0,this.Objeto=new c.t,this.nuevoAcuerdo=new i.vpe,this.acuerdoEliminado=new i.vpe}getAcuerdos(e=!1){e&&(this.pagiaAcuerdos=0);const o=new n.WM({UToken:this.usuarioService.userToken});return this.pagiaAcuerdos++,this.http.get(`${u}/acuerdos/?pagina=${this.pagiaAcuerdos}`,{headers:o})}crearAcuerdo(e){const o=new n.WM({UToken:this.usuarioService.userToken});return new Promise(t=>{this.http.post(`${u}/acuerdos`,e,{headers:o}).subscribe(e=>{this.nuevoAcuerdo.emit(e.acuerdo),t(!0)})})}enviarDatos(e,o){e.tipo=o,this.Objeto.next(e)}limpiar(e){this.Objeto.next(e)}actualizarAcuerdo(e){const o=new n.WM({UToken:this.usuarioService.userToken});return new Promise(t=>{this.http.post(`${u}/acuerdos/actualizar`,e,{headers:o}).subscribe(e=>{t(!!e.ok)})})}eliminarAcuerdo(e){const o=new n.WM({UToken:this.usuarioService.userToken});return new Promise(t=>{this.http.post(`${u}/acuerdos/actualizar`,e,{headers:o}).subscribe(e=>{e.ok?(this.acuerdoEliminado.emit(e.acuerdo),t(!0)):t(!1)})})}subirImagen(e){const o={fileKey:"imagenAcuerdo",headers:{UToken:this.usuarioService.userToken}};this.fileTransfer.create().upload(e,`${u}/acuerdos/upload`,o).then(e=>{console.log(e)}).catch(e=>{console.log("Fallo al subir imagen:",e)})}}return e.\u0275fac=function(o){return new(o||e)(i.LFG(n.eN),i.LFG(s.i),i.LFG(a.K))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);